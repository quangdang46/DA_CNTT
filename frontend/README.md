
## Chức năng hệ thống

### Chức năng dành cho khách không đăng nhập
- **Tìm kiếm và lọc sản phẩm:** Cung cấp thanh tìm kiếm và bộ lọc nâng cao (theo loại sản phẩm, giá, thương hiệu, hệ điều hành, RAM, bộ nhớ trong, camera, v.v.) để khách dễ dàng tìm thấy sản phẩm phù hợp.
- **Xem thông tin chi tiết sản phẩm:** Hiển thị mô tả chi tiết về sản phẩm, thông số kỹ thuật, hình ảnh, đánh giá từ khách hàng đã phê duyệt, và thông tin về bảo hành, chính sách đổi trả.
- **Đánh giá sản phẩm cần phê duyệt:** Cung cấp chức năng gửi đánh giá và nhận xét cho sản phẩm, nhưng yêu cầu phê duyệt của quản trị viên trước khi công khai.
- **Giỏ hàng lưu ở local:** Lưu trữ giỏ hàng của khách hàng trên thiết bị (local storage), cho phép khách quay lại và xem lại giỏ hàng của mình khi chưa đăng nhập.
- **So sánh sản phẩm:** Cung cấp tính năng so sánh giữa các sản phẩm giúp khách dễ dàng đưa ra quyết định mua sắm.
- **Chat nhanh với nhân viên hỗ trợ:** Cung cấp chức năng chat trực tuyến giúp khách hàng nhận được hỗ trợ nhanh chóng từ nhân viên.
- **Thông tin khuyến mãi, giảm giá:** Hiển thị các chương trình khuyến mãi, giảm giá cho các sản phẩm đang được giảm giá.
- **Xem sản phẩm mới:** Cung cấp danh sách các sản phẩm mới được cập nhật trên website.
- **Đặt hàng ngay:** Cho phép khách hàng thêm sản phẩm vào giỏ hàng và thực hiện đặt hàng ngay với thông tin giao nhận đơn giản.
- **Phương thức thanh toán rõ ràng:** Cung cấp thông tin chi tiết về các phương thức thanh toán, bao gồm QR Code và thanh toán tiền mặt khi giao hàng.

### Chức năng dành cho khách đã đăng nhập
- **Quản lý thông tin tài khoản cá nhân:** Cho phép khách hàng cập nhật thông tin cá nhân (họ tên, địa chỉ, số điện thoại, email, mật khẩu).
- **Lịch sử mua hàng:** Hiển thị lịch sử các đơn hàng đã thực hiện, bao gồm thông tin chi tiết của từng đơn hàng.
- **Đặt hàng nhanh (1-click order):** Cung cấp tính năng thanh toán nhanh, cho phép khách hàng thực hiện đơn hàng chỉ với một cú click mà không cần nhập lại thông tin thanh toán.
- **Quản lý danh sách yêu thích:** Cho phép khách hàng lưu lại các sản phẩm yêu thích để truy cập lại dễ dàng.
- **Quản lý lịch sử tìm kiếm và sản phẩm đã xem:** Lưu lại lịch sử tìm kiếm và các sản phẩm đã xem, giúp khách dễ dàng quay lại lựa chọn sản phẩm trước đó.
- **Quản lý đơn hàng:** Khách hàng có thể theo dõi trạng thái đơn hàng của mình (đang xử lý, đã giao, đã hủy).

### Chức năng dành cho quản trị viên
- **Theo dõi phân tích biểu đồ:** Cung cấp các biểu đồ thống kê và phân tích dữ liệu về doanh thu, lượng hàng bán ra, khách hàng, và sản phẩm bán chạy.
- **Quản lý cơ sở dữ liệu:** Quản lý toàn bộ cơ sở dữ liệu của website, bao gồm thông tin người dùng, sản phẩm, đơn hàng, và lịch sử giao dịch.
- **Quản lý quyền truy cập người dùng:** Quản lý quyền truy cập của các nhân viên, phân công nhiệm vụ cho từng loại nhân viên (nhân viên kho, nhân viên hỗ trợ, nhân viên giao hàng).
- **Quản lý sản phẩm và đơn hàng của bên bán:** Kiểm tra các sản phẩm của bên bán điện thoại, đảm bảo chúng đáp ứng yêu cầu của website (chất lượng, mô tả, giá cả).
- **Quản lý kho hàng và đơn hàng:** Kiểm tra tình trạng kho (số lượng tồn kho, sản phẩm hết hàng) và theo dõi trạng thái đơn hàng để đảm bảo giao hàng đúng hạn.
- **Phân tích doanh thu và bán hàng:** Xem báo cáo doanh thu, các sản phẩm bán chạy và phân tích chiến lược marketing, từ đó đưa ra quyết định.

### Chức năng dành cho nhân viên hỗ trợ
- **Hỗ trợ qua chat trực tuyến:** Nhân viên hỗ trợ sẽ trực tiếp trả lời các câu hỏi, giải đáp thắc mắc của khách hàng qua chat.
- **Quản lý bình luận của khách hàng:** Xử lý và phản hồi các bình luận của khách hàng về sản phẩm hoặc dịch vụ.
- **Hỗ trợ khách hàng về thanh toán và đổi trả:** Giải quyết các vấn đề liên quan đến thanh toán, bảo hành, và các yêu cầu đổi trả sản phẩm.

### Chức năng dành cho nhân viên
- **Quản lý sản phẩm:** Nhân viên có thể thêm, chỉnh sửa hoặc xóa sản phẩm trên website, cập nhật giá và mô tả sản phẩm.
- **Quản lý đơn hàng:** Theo dõi tình trạng đơn hàng, xác nhận đơn hàng đã thanh toán và chuẩn bị giao hàng.

### Chức năng dành cho nhân viên kho
- **Quản lý số lượng tồn kho:** Theo dõi số lượng tồn kho của các sản phẩm, cập nhật số lượng khi có đơn hàng được giao hoặc khi có hàng mới.

### Chức năng dành cho nhân viên giao hàng
- **Theo dõi và quản lý đơn hàng giao:** Nhân viên giao hàng theo dõi danh sách đơn hàng cần giao và cập nhật tình trạng giao hàng cho khách (đã giao, chưa giao, không thể giao).
- **Cập nhật tình trạng giao hàng:** Cập nhật trạng thái giao hàng đã hoàn thành và thông báo cho khách hàng về tình trạng đơn hàng.

### Chức năng dành cho bên bán (người bán điện thoại)
- **Quản lý sản phẩm và đơn hàng:** Bên bán có thể quản lý sản phẩm của mình, thêm mới sản phẩm, chỉnh sửa thông tin sản phẩm, và theo dõi đơn hàng.
- **Quản lý kho và giao hàng:** Bên bán có thể cập nhật số lượng sản phẩm trong kho và tình trạng giao hàng cho các đơn hàng đã được xác nhận.


1. Xử lý khi người dùng chưa đăng nhập (Guest User):
Lưu trữ danh sách yêu thích ở localStorage hoặc sessionStorage:
Khi người dùng thêm sản phẩm vào wishlist, bạn sẽ lưu thông tin sản phẩm vào localStorage.
Dữ liệu lưu trữ sẽ bao gồm thông tin sản phẩm (ID sản phẩm) mà người dùng yêu thích.
Hiển thị danh sách yêu thích:
Mỗi khi người dùng truy cập vào trang wishlist, bạn sẽ kiểm tra localStorage để lấy danh sách yêu thích và hiển thị sản phẩm tương ứng.
Khi người dùng xóa sản phẩm khỏi wishlist, cập nhật lại localStorage.
2. Xử lý khi người dùng đã đăng nhập (Logged-in User):
Lưu trữ dữ liệu vào cơ sở dữ liệu:
Khi người dùng đăng nhập, thông tin về sản phẩm yêu thích sẽ được lưu vào bảng wishlist trong cơ sở dữ liệu.
Cột user_id sẽ lưu ID của người dùng, product_id lưu ID sản phẩm, và created_at lưu thời gian thêm vào danh sách yêu thích.
Hiển thị danh sách yêu thích từ cơ sở dữ liệu:
Khi người dùng vào trang wishlist, bạn sẽ truy vấn dữ liệu từ bảng wishlist dựa trên user_id để hiển thị các sản phẩm mà người dùng đã yêu thích.
Cập nhật (Thêm/Sửa/Xóa sản phẩm):
Khi người dùng thêm hoặc xóa sản phẩm khỏi wishlist, dữ liệu sẽ được cập nhật vào bảng wishlist.
Nếu người dùng đã đăng nhập, cập nhật cơ sở dữ liệu; nếu chưa, cập nhật localStorage.
3. Xử lý chuyển đổi giữa Guest và Logged-in User:
Khi người dùng đăng nhập, bạn cần kiểm tra xem họ đã có danh sách yêu thích trong localStorage hay chưa. Nếu có, bạn sẽ cần đồng bộ hóa dữ liệu từ localStorage vào cơ sở dữ liệu.
Ví dụ: Khi người dùng đăng nhập, bạn sẽ kiểm tra tất cả sản phẩm trong localStorage và thêm vào bảng wishlist của người dùng trong cơ sở dữ liệu (nếu chưa có).
4. Flow tổng quan:
Người dùng chưa đăng nhập:
Thêm sản phẩm vào localStorage.
Hiển thị sản phẩm từ localStorage.
Người dùng đã đăng nhập:
Thêm sản phẩm vào cơ sở dữ liệu (wishlist).
Hiển thị sản phẩm từ cơ sở dữ liệu.
5. Các vấn đề cần lưu ý:
Quản lý trạng thái: Khi người dùng chuyển từ guest sang logged-in, phải đồng bộ hóa wishlist từ localStorage sang cơ sở dữ liệu.
Xử lý khi xóa sản phẩm: Đảm bảo rằng khi người dùng xóa sản phẩm, sẽ cập nhật đúng vào cả localStorage (cho guest) hoặc cơ sở dữ liệu (cho logged-in user).